#!/usr/bin/env python3
"""
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –≤ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
"""

import asyncio
from database import db, init_db

async def add_test_products():
    """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤"""
    print("üî• –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...")
    await init_db()
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ —Ç–æ–≤–∞—Ä—ã
    existing_products = await db.get_products()
    if existing_products:
        print(f"‚úÖ –í –±–∞–∑–µ —É–∂–µ –µ—Å—Ç—å {len(existing_products)} —Ç–æ–≤–∞—Ä–æ–≤")
        print("–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ—â–µ? (y/n)")
        # –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É
        # return
    
    print("‚ûï –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã...")
    
    test_products = [
        {
            "name": "ELFBAR BC5000 - Blue Razz Ice", 
            "price": 25.0,
            "description": "ü´ê –°–∏–Ω—è—è –º–∞–ª–∏–Ω–∞ —Å –ª–µ–¥—è–Ω–æ–π —Å–≤–µ–∂–µ—Å—Ç—å—é\nüí® –î–æ 5000 –∑–∞—Ç—è–∂–µ–∫\nüîã –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞—Ç–∞—Ä–µ—è 650mAh\n‚ùÑÔ∏è –û—Ö–ª–∞–∂–¥–∞—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç",
            "category": "elfbar"
        },
        {
            "name": "LOST MARY OS5000 - Grape Ice", 
            "price": 28.0,
            "description": "üçá –°–æ—á–Ω—ã–π –≤–∏–Ω–æ–≥—Ä–∞–¥ —Å –ª–µ–¥—è–Ω–æ–π –ø—Ä–æ—Ö–ª–∞–¥–æ–π\nüí® –î–æ 5000 –∑–∞—Ç—è–∂–µ–∫\n‚ö° –ë—ã—Å—Ç—Ä–∞—è –∑–∞—Ä—è–¥–∫–∞ USB-C\n‚ùÑÔ∏è –û—Ö–ª–∞–∂–¥–∞—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç",
            "category": "lostmary"
        },
        {
            "name": "HQD Cuvie Plus - Mango Ice", 
            "price": 22.0,
            "description": "ü•≠ –°–ø–µ–ª–æ–µ –º–∞–Ω–≥–æ —Å –ª–µ–¥—è–Ω–æ–π —Å–≤–µ–∂–µ—Å—Ç—å—é\nüí® –î–æ 1200 –∑–∞—Ç—è–∂–µ–∫\n‚ùÑÔ∏è –û—Ö–ª–∞–∂–¥–∞—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç\nüå¥ –¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π –≤–∫—É—Å",
            "category": "hqd"
        },
        {
            "name": "VOZOL Gear 10000 - Apple Ice", 
            "price": 35.0,
            "description": "üçé –ó–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ —Å –º–µ–Ω—Ç–æ–ª–æ–º\nüí® –î–æ 10000 –∑–∞—Ç—è–∂–µ–∫\nüîã –ú–æ—â–Ω–∞—è –±–∞—Ç–∞—Ä–µ—è\nüì± –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞—Ä—è–¥–∞\n‚ùÑÔ∏è –û—Å–≤–µ–∂–∞—é—â–∏–π –≤–∫—É—Å",
            "category": "vozol"
        },
        {
            "name": "JUUL Pods - Virginia Tobacco", 
            "price": 38.0,
            "description": "üö¨ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ç–∞–±–∞—á–Ω—ã–π –≤–∫—É—Å\nüì¶ 4 –∫–∞—Ä—Ç—Ä–∏–¥–∂–∞ –≤ —É–ø–∞–∫–æ–≤–∫–µ\nüéØ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ JUUL –ø–æ–¥—ã\nüí´ –ù–∞—Å—ã—â–µ–Ω–Ω—ã–π –≤–∫—É—Å",
            "category": "juul"
        }
    ]
    
    # –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã
    for product in test_products:
        await db.add_product(
            name=product["name"],
            price=product["price"], 
            description=product["description"],
            category=product["category"]
        )
        print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω: {product['name']} - {product['price']} –ª–∞—Ä–∏")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    all_products = await db.get_products()
    print(f"\nüéâ –£—Å–ø–µ—à–Ω–æ! –í –±–∞–∑–µ —Ç–µ–ø–µ—Ä—å {len(all_products)} —Ç–æ–≤–∞—Ä–æ–≤")
    
    print("\nüì± –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –±–æ—Ç–∞:")
    print("1. –û—Ç–∫—Ä–æ–π—Ç–µ @tbilisi_vape_bot –≤ Telegram")
    print("2. –ù–∞–∂–º–∏—Ç–µ /start")
    print("3. –í—ã–±–µ—Ä–∏—Ç–µ 'üõç –ö–∞—Ç–∞–ª–æ–≥'")
    print("4. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã!")
    
    await db.close_pool()

if __name__ == "__main__":
    asyncio.run(add_test_products())